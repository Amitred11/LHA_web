<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GATEKEEPER | AUTH v5.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['"Space Grotesk"', 'sans-serif'],
                        mono: ['"JetBrains Mono"', 'monospace'], 
                    },
                    colors: { 
                        glass: 'rgba(255, 255, 255, 0.05)',
                        neonBlue: '#3b82f6', 
                        neonPurple: '#8b5cf6',
                        alert: '#ef4444',
                        success: '#10b981',
                        warning: '#f59e0b'
                    },
                    animation: {
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'shake': 'shake 0.4s cubic-bezier(.36,.07,.19,.97) both'
                    },
                    keyframes: {
                        shake: {
                            '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                            '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                            '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                            '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                        }
                    },
                    backgroundImage: {
                        'stripes': 'repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0,0,0,0.2) 10px, rgba(0,0,0,0.2) 20px)'
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #0f172a; color: white; }
        
        /* Glass Card */
        .glass-panel {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
        }

        .ambient-light {
            position: absolute;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(59,130,246,0.12) 0%, rgba(0,0,0,0) 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }

        /* Construction Stripes for disabled elements */
        .hazard-stripes {
            background-image: repeating-linear-gradient(
                45deg,
                rgba(255, 255, 255, 0.03),
                rgba(255, 255, 255, 0.03) 10px,
                transparent 10px,
                transparent 20px
            );
        }
    </style>
</head>
<body class="h-screen w-screen overflow-hidden flex items-center justify-center relative bg-[#020617]">

    <div class="ambient-light top-0 left-0 -translate-x-1/2 -translate-y-1/2"></div>
    <div class="ambient-light bottom-0 right-0 translate-x-1/2 translate-y-1/2 bg-[radial-gradient(circle,rgba(245,158,11,0.08)_0%,rgba(0,0,0,0)_70%)]"></div>

    <main class="relative z-10 w-full max-w-[420px] px-5">
        
        <!-- Main Card -->
        <div class="glass-panel rounded-3xl p-6 md:p-8 relative overflow-hidden flex flex-col gap-6">
            
            <!-- Header -->
            <div class="flex items-start justify-between">
                <div>
                    <h1 class="font-sans text-xl font-bold text-white tracking-wide">Gatekeeper</h1>
                    <div class="flex items-center gap-2 mt-1">
                        <span class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></span>
                        <p class="font-mono text-[10px] text-slate-400 uppercase tracking-widest">Sys.Ver.5.0 (Beta)</p>
                    </div>
                </div>
                <i class="fas fa-shield-cat text-2xl text-slate-600"></i>
            </div>

            <div class="h-px w-full bg-gradient-to-r from-transparent via-slate-700 to-transparent"></div>

            <!-- UNAVAILABLE METHODS -->
            <div class="space-y-3">
                <p class="text-[10px] font-mono text-slate-500 uppercase tracking-wider mb-2">Primary Authentication</p>
                
                <div class="grid grid-cols-2 gap-3">
                    <!-- Face Scan (Disabled) -->
                    <button onclick="triggerError(this, 'SENSOR_OFFLINE')" class="group relative h-28 rounded-xl border border-slate-800 bg-slate-900/40 hover:bg-slate-900/60 transition-all overflow-hidden flex flex-col items-center justify-center gap-3 hazard-stripes">
                        <div class="absolute top-2 right-2 px-1.5 py-0.5 bg-yellow-500/10 border border-yellow-500/20 rounded text-[8px] text-yellow-500 font-bold tracking-wider">DEV_BUILD</div>
                        
                        <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center group-active:scale-95 transition-transform">
                            <i class="fas fa-expand text-slate-500 text-lg"></i>
                        </div>
                        <span class="text-xs font-mono text-slate-500 group-hover:text-slate-400">FACE_ID</span>
                        
                        <!-- Diagonal Strike -->
                        <div class="absolute inset-0 bg-black/20 hidden group-active:block"></div>
                    </button>

                    <!-- Fingerprint (Disabled) -->
                    <button onclick="triggerError(this, 'HARDWARE_MISSING')" class="group relative h-28 rounded-xl border border-slate-800 bg-slate-900/40 hover:bg-slate-900/60 transition-all overflow-hidden flex flex-col items-center justify-center gap-3 hazard-stripes">
                        <div class="absolute top-2 right-2 px-1.5 py-0.5 bg-red-500/10 border border-red-500/20 rounded text-[8px] text-red-500 font-bold tracking-wider">OFFLINE</div>
                        
                        <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center group-active:scale-95 transition-transform">
                            <i class="fas fa-fingerprint text-slate-500 text-lg"></i>
                        </div>
                        <span class="text-xs font-mono text-slate-500 group-hover:text-slate-400">TOUCH_ID</span>
                    </button>
                </div>
            </div>

            <!-- MANUAL OVERRIDE (Active) -->
            <div class="space-y-3 pt-2">
                <div class="flex items-center justify-between">
                    <p class="text-[10px] font-mono text-neonBlue uppercase tracking-wider">Manual Override</p>
                    <span id="lock-status" class="text-[10px] text-slate-600"><i class="fas fa-lock"></i> LOCKED</span>
                </div>

                <div class="relative group/input">
                    <div class="absolute -inset-0.5 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl opacity-0 group-focus-within/input:opacity-30 transition duration-500 blur"></div>
                    <div class="relative flex items-center">
                        <span class="absolute left-4 text-slate-500 font-mono text-xs">></span>
                        <input type="password" 
                            id="pass-input"
                            autocomplete="off"
                            placeholder="ENTER PASSCODE"
                            class="w-full bg-[#0B1121] border border-slate-700/50 text-white font-mono text-sm rounded-xl py-4 pl-8 pr-12 focus:outline-none focus:border-neonBlue transition-colors tracking-widest placeholder-slate-700 uppercase shadow-inner">
                        
                        <button onclick="verify()" class="absolute right-2 p-2 bg-slate-800 hover:bg-neonBlue rounded-lg text-slate-400 hover:text-white transition-all group/btn">
                            <i class="fas fa-arrow-right text-xs group-hover/btn:translate-x-0.5 transition-transform"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Feedback Toast Area -->
            <div id="status-bar" class="h-8 flex items-center justify-center border-t border-white/5 mt-2">
                <span id="msg" class="text-[10px] font-mono text-slate-500 tracking-tight">WAITING FOR INPUT...</span>
            </div>

        </div>
    </main>

    <script>
        // Session Cleanup
        localStorage.removeItem('lha_auth');
        localStorage.removeItem('lha_role');

        const msg = document.getElementById('msg');
        const input = document.getElementById('pass-input');

        // Handle the "Unavailable" buttons
        function triggerError(element, errorCode) {
            // Shake animation
            element.classList.remove('animate-shake');
            void element.offsetWidth; // trigger reflow
            element.classList.add('animate-shake', 'border-red-500/50');
            
            // Visual feedback
            const icon = element.querySelector('i');
            const originalClass = icon.className;
            
            // Switch to error icon temporarily
            icon.className = "fas fa-triangle-exclamation text-red-500 text-lg";
            
            msg.innerText = `ERR: ${errorCode} // MODULE_NOT_READY`;
            msg.className = "text-[10px] font-mono text-red-500 font-bold tracking-tight animate-pulse";

            // Reset after delay
            setTimeout(() => {
                element.classList.remove('border-red-500/50');
                icon.className = originalClass;
            }, 500);

            setTimeout(() => {
                msg.innerText = "PLEASE USE MANUAL OVERRIDE";
                msg.className = "text-[10px] font-mono text-slate-500 tracking-tight";
            }, 2000);
        }

        // Handle Password Input
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') verify();
        });

        input.addEventListener('input', () => {
            input.classList.remove('border-red-500', 'text-red-500');
            msg.innerText = "DECRYPTING...";
            msg.className = "text-[10px] font-mono text-neonBlue tracking-tight";
        });

        function verify() {
            const code = input.value.toUpperCase().trim();
            
            msg.innerText = "CHECKING DATABASE...";
            msg.className = "text-[10px] font-mono text-yellow-500 tracking-tight blink";

            setTimeout(() => {
                if (code === 'OTAKU') success('user');
                else if (code === 'ADMIN_01') success('admin');
                else {
                    // Fail State
                    input.value = '';
                    input.classList.add('border-red-500', 'text-red-500');
                    msg.innerText = "ACCESS DENIED // INVALID KEY";
                    msg.className = "text-[10px] font-mono text-red-500 font-bold tracking-tight";
                    
                    // Simple input shake
                    input.animate([
                        { transform: 'translateX(0)' }, 
                        { transform: 'translateX(-5px)' }, 
                        { transform: 'translateX(5px)' }, 
                        { transform: 'translateX(0)' }
                    ], { duration: 300 });
                }
            }, 600);
        }

        function success(role) {
            localStorage.setItem('lha_auth', 'true');
            localStorage.setItem('lha_role', role);

            msg.innerText = "IDENTITY VERIFIED. WELCOME.";
            msg.className = "text-[10px] font-mono text-emerald-400 font-bold tracking-tight";
            
            document.getElementById('lock-status').innerHTML = '<i class="fas fa-lock-open"></i> UNLOCKED';
            document.getElementById('lock-status').className = "text-[10px] text-emerald-500";
            
            input.classList.add('border-emerald-500', 'text-emerald-500');

            setTimeout(() => {
                window.location.href = 'comics.html';
            }, 1000);
        }
    </script>
</body>
</html>